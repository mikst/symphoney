#N canvas 48 2 1232 763 12;
#X obj 295 668 netsend -u -b;
#X msg 69 640 connect bela.local 7562;
#X obj 68 606 loadbang;
#X obj 296 700 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 66 28 loadbang;
#X obj 95 312 > 0;
#X obj 126 311 > 1;
#X obj 156 311 > 2;
#X obj 186 311 > 3;
#X obj 216 311 > 4;
#X obj 246 311 > 5;
#X obj 276 311 > 6;
#X obj 306 311 > 7;
#X obj 69 233 hsl 128 15 0 8 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 66 58 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000
0 1;
#X msg 18 377 0 \$1;
#X obj 39 344 hsl 128 15 0 255 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 75 423 pack f f f f f f f f f f;
#X obj 65 257 t b f f f f f f f f f f f f;
#X obj 361 353 hsl 128 15 0 255 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 431 317 > 0;
#X obj 461 317 > 1;
#X obj 491 317 > 2;
#X obj 521 317 > 3;
#X obj 357 421 pack f f f f f f f f f f f f f f;
#X obj 396 225 hsl 128 15 0 4 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X msg 357 379 8 \$1;
#X msg 506 351 0;
#X obj 393 255 t b b f f f f;
#X obj 66 77 metro 50;
#X obj 775 342 > 0;
#X obj 806 341 > 1;
#X obj 836 341 > 2;
#X obj 749 263 hsl 128 15 0 8 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 710 323 hsl 128 15 0 255 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X floatatom 707 347 5 0 0 0 - - - 0;
#X msg 707 408 12 \$1;
#X obj 745 287 t b f f f f;
#X obj 500 9 adc~;
#X floatatom 392 133 5 0 0 0 - - - 0;
#X obj 105 173 - 50;
#X obj 393 164 - 82;
#X obj 695 181 - 90;
#X text 14 493 send single-color:;
#X text 334 483 send rgb:;
#X text 12 514 [offset gain led0 led1 ...(;
#X text 332 504 [offset gain led0r led0g led0b led1r led1g led1b ...(
;
#X text 744 503 send single-color:;
#X text 742 524 [offset gain led0 led1 ...(;
#X obj 75 551 oscformat leds setRaw g;
#X obj 357 558 oscformat leds setRaw rgb;
#X obj 733 553 oscformat leds setRaw r;
#X text 122 574 /leds/setRaw/g for green;
#X obj 500 40 env~ 32;
#X obj 472 109 snapshot~;
#X text 558 40 That makes it small blocksize-friendly;
#X obj 501 71 lop~ 40;
#X floatatom 926 222 5 0 0 0 - - - 0;
#X obj 926 199 snapshot~;
#X floatatom 941 275 5 0 0 0 - - - 0;
#X obj 941 304 select 1;
#X obj 925 170 lop~ 200;
#X obj 941 251 > 94;
#X text 440 178 82 to 90 in 4 steps;
#X text 147 181 50 to 82 in 8 steps;
#X text 743 239 90 to 96 in three steps;
#X text 558 25 An env detector with a small enough window;
#X text 562 72 Further smoothed with [lop~] to make it useful;
#X text 1015 164 Peak hold;
#X text 762 574 /leds/setRaw/r for red;
#X text 41 326 Gain;
#X text 660 316 Gain;
#X text 354 330 Gain;
#X obj 93 200 / 4;
#X obj 392 189 / 2;
#X obj 721 216 / 2;
#X text 166 11 A 16-segment vu-meter with peak hold;
#X text 80 450 8 GREEN leds \, starting from 0;
#X text 356 442 4 YELLOW leds \, starting from 8;
#X text 910 421 The top LED is used as a peak hold;
#X msg 17 295 120;
#X msg 340 310 120;
#X msg 689 288 120;
#X obj 340 283 loadbang;
#X obj 661 255 loadbang;
#X obj 1 263 loadbang;
#X text 410 580 /leds/setRaw/rgb for rgb;
#X obj 931 377 line;
#X msg 932 347 1 \, 0 500;
#X obj 733 451 pack f f f f f;
#X text 749 473 3 RED leds \, starting from 12;
#X text 976 472 1 RED led \, starting from 15;
#X msg 981 500 15 255 \$1;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 4 0 14 0;
#X connect 5 0 17 2;
#X connect 6 0 17 3;
#X connect 7 0 17 4;
#X connect 8 0 17 5;
#X connect 9 0 17 6;
#X connect 10 0 17 7;
#X connect 11 0 17 8;
#X connect 12 0 17 9;
#X connect 13 0 18 0;
#X connect 14 0 29 0;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 17 0 49 0;
#X connect 18 0 16 0;
#X connect 18 1 5 0;
#X connect 18 2 6 0;
#X connect 18 3 7 0;
#X connect 18 4 8 0;
#X connect 18 5 9 0;
#X connect 18 6 10 0;
#X connect 18 7 11 0;
#X connect 18 8 12 0;
#X connect 19 0 26 0;
#X connect 20 0 24 3;
#X connect 20 0 24 2;
#X connect 21 0 24 6;
#X connect 21 0 24 5;
#X connect 22 0 24 9;
#X connect 22 0 24 8;
#X connect 23 0 24 12;
#X connect 23 0 24 11;
#X connect 24 0 50 0;
#X connect 25 0 28 0;
#X connect 26 0 24 0;
#X connect 27 0 24 4;
#X connect 27 0 24 7;
#X connect 27 0 24 10;
#X connect 27 0 24 13;
#X connect 28 0 19 0;
#X connect 28 1 27 0;
#X connect 28 2 20 0;
#X connect 28 3 21 0;
#X connect 28 4 22 0;
#X connect 28 5 23 0;
#X connect 29 0 54 0;
#X connect 29 0 58 0;
#X connect 30 0 89 2;
#X connect 31 0 89 3;
#X connect 32 0 89 4;
#X connect 33 0 37 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 36 0 89 0;
#X connect 37 0 34 0;
#X connect 37 1 30 0;
#X connect 37 2 31 0;
#X connect 37 3 32 0;
#X connect 38 0 53 0;
#X connect 39 0 40 0;
#X connect 39 0 41 0;
#X connect 39 0 42 0;
#X connect 40 0 73 0;
#X connect 41 0 74 0;
#X connect 42 0 75 0;
#X connect 49 0 0 0;
#X connect 50 0 0 0;
#X connect 51 0 0 0;
#X connect 53 0 56 0;
#X connect 53 0 61 0;
#X connect 54 0 39 0;
#X connect 56 0 54 0;
#X connect 57 0 62 0;
#X connect 58 0 57 0;
#X connect 59 0 60 0;
#X connect 60 0 88 0;
#X connect 61 0 58 0;
#X connect 62 0 59 0;
#X connect 73 0 13 0;
#X connect 74 0 25 0;
#X connect 75 0 33 0;
#X connect 80 0 16 0;
#X connect 81 0 19 0;
#X connect 82 0 34 0;
#X connect 83 0 81 0;
#X connect 84 0 82 0;
#X connect 85 0 80 0;
#X connect 87 0 92 0;
#X connect 88 0 87 0;
#X connect 89 0 51 0;
#X connect 92 0 51 0;
